generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Type {
  QUARTERLY
  YEARLY
}

model lastTicker {
  id               Int      @id @default(autoincrement())
  lastActiveTicker String?
  createdAt        DateTime @default(now())
  updatedAt        DateTime @default(now())
}

model Ticker {
  id               Int                @id @default(autoincrement())
  ticker           String?            @unique()
  company          String?
  TTM              TTM?
  General          General?
  Earnings         Earnings[]
  Dividend         Dividend[]
  RatiosAndMetrics RatiosAndMetrics[]
  CashFlow         CashFlow[]
  IncomeStatement  IncomeStatement[]
  BalanceSheet     BalanceSheet[]
  EarningsTrand    EarningsTrand[]
  DividendHistory  DividendHistory[]
  Industries       Industries?        @relation(fields: [industriesId], references: [id])
  industriesId     Int?
  createdAt        DateTime           @default(now())
  updatedAt        DateTime           @default(now())
}

model TTM {
  id                              Int      @id @default(autoincrement())
  premarketPrice                  Float?
  priceChnage                     Float?
  StrongBuy                       Float?
  TargetPrice                     Float?
  Buy                             Float?
  Hold                            Float?
  Sell                            Float?
  StrongSell                      Float?
  MostRecentQuarter               String? //done
  earningsDate                    String?
  sharesOutTTM                    Float?
  preMarketDate                   String?
  industry                        String?
  pbRatio                         Float?
  founded                         Float?
  TotalShareholderReturn          Float?
  incomeTaxExpense                Float?
  fcfGrowthThreeYears             Float?
  fcfGrowthFiveYears              Float?
  forwardPe                       Float?
  returnOnEquity5Year             Float?
  returnOnAssets5Year             Float?
  returnOnCapital5Year            Float?
  lastSplitDate                   String?
  lastStockSplit                  String?
  lastStockSplitRatio             String?
  shortPercentFloat               Float?
  float                           Float?
  shortRatio                      Float?
  shortPercentShare               Float?
  beta1Year                       Float?
  epsGrowth3Year                  Float?
  epsGrowth5Year                  Float?
  netIncomeGrowth3Year            Float?
  netIncomeGrowth5Year            Float?
  operatingIncomeGrowth3Year      Float?
  operatingIncomeGrowth5Year      Float?
  grossProfit3Year                Float?
  grossProfit5Year                Float?
  revenueGrowth3Year              Float?
  revenueGrowth5Year              Float?
  ipoDate                         String?
  employees                       Float?
  premarketPercentageChg          Float?
  priceTargetPercentage           Float?
  previousClose                   Float?
  anaylystRating                  Float?
  analystCount                    Float?
  priceChange1Day                 Float?
  priceChange1Week                Float?
  priceChange1Month               Float?
  priceChange6Month               Float?
  priceChange1Year                Float?
  priceChangeThisYear             Float?
  priceChange3Year                Float?
  priceChange5Year                Float?
  priceChange10Year               Float?
  priceChange52WeekHigh           Float?
  priceChange52WeekLow            Float?
  RevOverEmployees                Float?
  piotroskiFScore                 Float?
  revGrowthNextYear               Float?
  revGrowthThisYear               Float?
  InvTurnover                     Float?
  PayoutFreq                      Float?
  AltmanZScore                    Float?
  revGrowthThisQuarter            Float?
  revGrowthNextQuarter            Float?
  shareholderYield                Float?
  relativeVolume                  Float?
  averageVolume                   Float?
  epsGrowthNextQuarter            Float?
  epsGrowthThisQuarter            Float?
  epsGrowthNextYear               Float?
  epsGrowthThisYear               Float?
  cashOverMarketCap               Float?
  financialReportDate             String?
  volume                          Float?
  dividend                        Float?
  netCashOverDebtGrowth           Float?
  lastClosePrice                  Float?
  evOverEbitdaTTM                 Float?
  evOverEarnings                  Float?
  forwardEvOverSales              Float?
  pegRatio                        Float?
  forwardPs                       Float?
  taxOverRevenue                  Float?
  quickRatio                      Float?
  profOverEmployee                Float?
  ExDividendDate                  String?
  sharesInstitutions              Float?
  sharesInsiders                  Float?
  operatingMargin                 Float?
  sector                          String?
  country                         String?
  exchange                        String?
  grossProfit                     Float?
  costOfRevenue                   Float?
  sellingGeneralAdministrative    Float?
  researchDevelopment             Float?
  totalOperatingExpenses          Float?
  interestExpense                 Float?
  incomeBeforeTax                 Float?
  incomeTax                       Float?
  netIncome                       Float?
  epsActual                       Float?
  dilutedEspActual                Float?
  dividendShare                   Float?
  profitMargin                    Float?
  ebitda                          Float?
  ebitdaMargin                    Float?
  ebit                            Float?
  ebitMargin                      Float?
  depreciationAndAmortization     Float?
  freeCashFlowMargin              Float?
  grossMargin                     Float?
  cashAndEquivalents              Float?
  shortTermInvestments            Float?
  cashAndCashEquivalents          Float?
  cashAndShortTermInvestments     Float?
  receivables                     Float?
  inventory                       Float?
  otherCurrentAssets              Float?
  totalCurrentAssets              Float?
  propertyPlantAndEquipment       Float?
  longTermInvestments             Float?
  goodWillAndIntangibleAssets     Float?
  otherLongTermAssets             Float?
  totalLongTernAssets             Float?
  totalAssets                     Float?
  accountsPayable                 Float?
  deferredRevenue                 Float?
  currentDebt                     Float?
  otherCurrentLiabilities         Float?
  totalCurrentLiabilities         Float?
  longTernDebt                    Float?
  totalLongTermLiabilities        Float?
  totalLiabilities                Float?
  totalDebt                       Float?
  commonStock                     Float?
  retainedEarnings                Float?
  comprehensiveIncome             Float?
  shareHoldersEquity              Float?
  totalLiabilitiesAndEquity       Float?
  netCashOverDebt                 Float?
  netCashperShare                 Float?
  workingCapital                  Float?
  bookValuePerShare               Float?
  shareBasedCompensation          Float?
  otherOperatingActivities        Float?
  operatingCashFlow               Float?
  capitalExpenditures             Float?
  otherInvestingActivities        Float?
  investingCashFlow               Float?
  dividendPaid                    Float?
  shareIssuanceOverRepurchase     Float?
  otherFinanceActivities          Float?
  financeCashFlow                 Float?
  netCashFlow                     Float?
  freeCashFlow                    Float?
  freeCashFlowPerShare            Float?
  marketCapitalization            Float?
  enterpriseValue                 Float?
  peRatio                         Float?
  psRatio                         Float?
  pOverFcfRatio                   Float?
  pOverOcfRatio                   Float?
  evOverSalesRatio                Float?
  evEbitdaRatio                   Float?
  evEbitRatio                     Float?
  evFcfRatio                      Float?
  debtOverEquityRatio             Float?
  debtOverEbitdaRatio             Float?
  debtFcfRatio                    Float?
  currentRatio                    Float?
  assetTurnover                   Float?
  returnOnEquity                  Float?
  returnOnAssets                  Float?
  returnOnCapital                 Float?
  fcfYield                        Float?
  payoutRatio                     Float?
  revenueGrowthYOY                Float?
  netIncomeGrowthQ                Float?
  netIncomeGrowthY                Float?
  researchDevelopmentOverRevenueQ Float?
  researchDevelopmentOverRevenueY Float?
  dividendYieldQ                  Float?
  dividendYieldY                  Float?
  grossProfitGrowthQ              Float?
  grossProfitGrowthY              Float?
  fcfGrowthQ                      Float?
  fcfGrowthY                      Float?
  totalCashY                      Float?
  totalCashQ                      Float?
  priceOverFcfRatioQ              Float?
  priceOverFcfRatioY              Float?
  debtOverFcfQ                    Float?
  debtOverFcfY                    Float?
  evOverSalesYearly               Float?
  evOverSalesQuat                 Float?
  evOverEbitQuat                  Float?
  evOverEbitYearly                Float?
  evOverFcfQuat                   Float?
  evOverFcfYearly                 Float?
  buybackYieldQuat                Float?
  buybackYieldYearly              Float?
  earningYieldQ                   Float?
  earningYieldY                   Float?
  dividendGrowth                  Float?
  cashGrowth                      Float?
  debtGorwth                      Float?
  marketCapGrowth                 Float?
  epsGrowth                       Float?
  operatingIncome                 Float?
  opIncomeGrowthQuat              Float?
  opIncomeGrowthYearly            Float?
  revenueTTM                      Float?
  revenueGrowthYearly             Float?
  revenueGrowthQuat               Float?
  sharesChangeYearly              Float?
  sharesChangeQuarterly           Float?
  Ticker                          Ticker?  @relation(fields: [tickerId], references: [id])
  tickerId                        Int?     @unique
  createdAt                       DateTime @default(now())
  updatedAt                       DateTime @default(now())
}

model General {
  id                    Int        @id @default(autoincrement())
  Type                  String?
  Name                  String?
  Exchange              String?
  CurrencyCode          String?
  CurrencyName          String?
  CurrencySymbol        String?
  CountryName           String?
  CountryISO            String?
  OpenFigi              String?
  ISIN                  String?
  LEI                   String?
  PrimaryTicker         String?
  CUSIP                 String?
  CIK                   String?
  EmployerIdNumber      String?
  FiscalYearEnd         String?
  IPODate               String?
  InternationalDomestic String?
  Sector                String?
  Industry              String?
  GicSector             String?
  GicGroup              String?
  GicIndustry           String?
  GicSubIndustry        String?
  HomeCategory          String?
  IsDelisted            Boolean?
  Description           String?
  Address               String?
  Phone                 String?
  WebURL                String?
  FullTimeEmployees     Float?
  Officers              Officers[]
  Ticker                Ticker?    @relation(fields: [tickerId], references: [id])
  tickerId              Int?       @unique
  createdAt             DateTime   @default(now())
  updatedAt             DateTime   @default(now())
}

model Officers {
  id        Int      @id @default(autoincrement())
  Name      String?
  Title     String?
  YearBorn  String?
  General   General? @relation(fields: [generalId], references: [id])
  generalId Int?
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
}

model Earnings {
  id           Int      @id @default(autoincrement())
  Type         Type
  date         String?
  earningsQuat Float?
  epsActual    Float?
  earningYield Float?
  epsGrowth    Float?
  peRatio      Float?
  epsEstimate  Float?
  Ticker       Ticker?  @relation(fields: [tickerId], references: [id])
  tickerId     Int?
  createdAt    DateTime @default(now())
  updatedAt    DateTime @default(now())
}

model EarningsTrand {
  id                     Int      @id @default(autoincrement())
  Type                   Type
  date                   String?
  marketCap              Float?
  reportDate             String?
  beforeAfterMarket      String?
  epsEstimateAvg         Float?
  epsEstimate            Float?
  revenueDifference      Float?
  revenueEstimateAvg     Float?
  epsActual              Float?
  totalRevenue           Float?
  epsDifference          Float?
  epsSurprisePercent     Float?
  revenueSurprisePercent Float?
  Ticker                 Ticker?  @relation(fields: [tickerId], references: [id])
  tickerId               Int?
  createdAt              DateTime @default(now())
  updatedAt              DateTime @default(now())
}

model Dividend {
  id            Int      @id @default(autoincrement())
  Type          Type
  date          String?
  dividendYield Float?
  dividendShare Float?
  payoutRatio   Float?
  Ticker        Ticker?  @relation(fields: [tickerId], references: [id])
  tickerId      Int?
  createdAt     DateTime @default(now())
  updatedAt     DateTime @default(now())
}

model DividendHistory {
  id              Int     @id @default(autoincrement())
  date            String?
  declarationDate String?
  recordDate      String?
  paymentDate     String?
  period          String?
  value           Float?
  unadjustedValue Float?
  currency        String?

  Ticker    Ticker?  @relation(fields: [tickerId], references: [id])
  tickerId  Int?
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
}

model RatiosAndMetrics {
  id                     Int      @id @default(autoincrement())
  Type                   Type
  date                   String?
  quater                 String?
  marketCap              Float?
  evOverSalesRatio       Float?
  evOverEbitda           Float?
  TotalShareholderReturn Float?
  marketCapGrowth        Float?
  pOverOcfRatio          Float?
  enterpriseValue        Float?
  evOverEbit             Float?
  evOverSales            Float?
  evOverFcf              Float?
  fcfYield               Float?
  buybackYield           Float?
  Ticker                 Ticker?  @relation(fields: [tickerId], references: [id])
  tickerId               Int?
  createdAt              DateTime @default(now())
  updatedAt              DateTime @default(now())
}

model CashFlow {
  id                          Int      @id @default(autoincrement())
  Type                        Type
  freeCashFlowMargin          String?
  freeCashFlowPerShare        String?
  otherOperatingActivities    String?
  financingCashFlow           String?
  salePurchaseOfStock         String?
  otherFinancingActivities    String?
  changeToInventory           String?
  depreciationAndAmortization String?
  operatingCashFlowGrowth     String?
  capitalExpenditures         String?
  date                        String?
  priceOverFcfRatio           String?
  finCashFlow                 String?
  invCashFlow                 String?
  sharedBasedCompensation     String?
  operatingCashFlow           String?
  fcfGrowth                   String?
  fcfOverShare                String?
  netCashFlow                 String?
  freeCashFlow                String?
  returnOnEquity              String?
  returnOnAssets              String?
  Ticker                      Ticker?  @relation(fields: [tickerId], references: [id])
  tickerId                    Int?
  createdAt                   DateTime @default(now())
  updatedAt                   DateTime @default(now())
}

model IncomeStatement {
  id                             Int     @id @default(autoincrement())
  Type                           Type
  sellingGeneralAdministrative   String?
  freeCashFlowPerShare           String?
  CashFlowMargin                 String?
  interestExpense                String?
  totalOperatingExpenses         String?
  incomeTaxExpense               String?
  sharesOutDiluted               String?
  costOfRevenue                  String?
  incomeBeforeTax                String?
  epsActual                      String?
  dividendGrowth                 String?
  depreciationAndAmortization    String?
  ebitdaGrowth                   String?
  date                           String?
  netIncome                      String?
  epsGrowth                      String?
  netIncomeGrowth                String?
  operatingIncome                String?
  opIncomeGrowth                 String?
  grossProfit                    String?
  ebit                           String?
  ebitda                         String?
  grossProfitGrowth              String?
  totalRevenue                   String?
  revenueGrowth                  String?
  grossMargin                    String?
  operatingMargin                String?
  profitMargin                   String?
  fcfMargin                      String?
  ebitdaMargin                   String?
  ebitMargin                     String?
  researchDevelopment            String?
  researchDevelopmentOverRevenue String?
  psRatio                        String?

  Ticker    Ticker?  @relation(fields: [tickerId], references: [id])
  tickerId  Int?
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
}

model BalanceSheet {
  id                                  Int      @id @default(autoincrement())
  Type                                Type
  date                                String?
  deferredLongTermLiab                String?
  cashAndEquivalents                  String?
  shortTermInvestments                String?
  cashAndShortTermInvestments         String?
  cashGrowth                          String?
  netReceivables                      String?
  inventory                           String?
  otherCurrentAssets                  String?
  totalCurrentAssets                  String?
  debtGrowth                          String?
  longTermInvestments                 String?
  accountsPayable                     String?
  otherCurrentLiab                    String?
  longTermDebtTotal                   String?
  totalCurrentLiabilities             String?
  shortTermDebt                       String?
  otherAssets                         String?
  nonCurrentAssetsTotal               String?
  currentDeferredRevenue              String?
  liabilitiesAndStockholdersEquity    String?
  totalStockholderEquity              String?
  retainedEarnings                    String?
  accumulatedOtherComprehensiveIncome String?
  commonStock                         String?
  goodWillAndIntangibleAssets         String?
  propertyPlantAndEquipmentNet        String?
  netWorkingCapital                   String?
  bookValue                           String?
  netCashPerShare                     String?
  sharesOut                           String?
  netCashOverDebt                     String?
  totalCash                           String?
  totalDebt                           String?
  currentRatio                        String?
  totalAssets                         String?
  totalLiab                           String?
  pbRatio                             String?
  debtOverEquity                      String?
  debtOverEbitda                      String?
  debtOverFcf                         String?
  shareHolderEquity                   String?
  workingCapital                      String?
  assetTurnover                       String?
  returnOnCapital                     String?
  netCashOverDebtGrowth               String?
  priceOverFcfRatio                   String?
  Ticker                              Ticker?  @relation(fields: [tickerId], references: [id])
  tickerId                            Int?
  createdAt                           DateTime @default(now())
  updatedAt                           DateTime @default(now())
}

model Sectors {
  id         Int          @id @default(autoincrement())
  Industries Industries[]
  name       String       @unique
  createdAt  DateTime     @default(now())
  updatedAt  DateTime     @default(now())
}

model Industries {
  id        Int      @id @default(autoincrement())
  name      String?
  Sectors   Sectors? @relation(fields: [sectorsId], references: [id])
  sectorsId Int?
  Ticker    Ticker[]
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())
}
